// Generated by ReScript, PLEASE EDIT WITH CARE
'use strict';

var Curry = require("bs-platform/lib/js/curry.js");
var React = require("react");
var Belt_Array = require("bs-platform/lib/js/belt_Array.js");

var initialState = [{
    name: "salut",
    completed: false
  }];

function reducer(state, action) {
  if (action.TAG === /* AddTodo */0) {
    return Belt_Array.concat(state, [{
                  name: action._0,
                  completed: false
                }]);
  }
  var todoName = action._0;
  return Belt_Array.keep(state, (function (todo) {
                return todo.name !== todoName;
              }));
}

function App(Props) {
  var match = React.useReducer(reducer, initialState);
  var dispatch = match[1];
  var match$1 = React.useState(function () {
        return "";
      });
  var setInputValue = match$1[1];
  var inputValue = match$1[0];
  return React.createElement("div", undefined, Belt_Array.map(match[0], (function (todo) {
                    return React.createElement("div", undefined, React.createElement("span", undefined, todo.name), React.createElement("button", {
                                    onClick: (function (param) {
                                        return Curry._1(dispatch, {
                                                    TAG: /* RemoveTodo */1,
                                                    _0: todo.name
                                                  });
                                      })
                                  }, "x"));
                  })), React.createElement("div", undefined, React.createElement("input", {
                      type: "text",
                      value: inputValue,
                      onChange: (function ($$event) {
                          return Curry._1(setInputValue, $$event.currentTarget.value);
                        })
                    }), React.createElement("button", {
                      onClick: (function (param) {
                          Curry._1(dispatch, {
                                TAG: /* AddTodo */0,
                                _0: inputValue
                              });
                          return Curry._1(setInputValue, (function (param) {
                                        return "";
                                      }));
                        })
                    }, "Add todo")));
}

var make = App;

exports.initialState = initialState;
exports.reducer = reducer;
exports.make = make;
/* react Not a pure module */
